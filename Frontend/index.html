<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
  <div id="hierTabelle"></div>

   <table  style="table-layout: fixed; width:1800px;" border="1px">
    <tr>
      <th>name</th>
      <th>output</th>
      <th>lat</th>
      <th>long</th>
      <th>imageLink</th>
    </tr>
    <tr>
      <td id="name"></td>
      <td id="output"></td> 
      <td id="lat"> </td>
      <td id="long"> </td>
      <td id="imageLink"> </td>
     </tr>
  </table>
    <script>

        function start() {
          node = document.getElementById("hierTabelle");
          node.appendChild(createTable());
        }

        function createTable() {
          var Daten= new Array ("name", "output", "lat", "long", "imageLink");
          var myTable     = document.createElement("table");
	        var mytablebody = document.createElement("tbody");
          myTable.appendChild(mytablebody);
	        myTable.setAttribute("border",1);
          myTable.setAttribute("id","tabelle");
	        return myTable;
        }

        var details = {
          'method': 'getStickerDetails',
          'id': 'p',     
        };
    
    var formBody = [];

    for (var property in details) {
      var encodedKey = encodeURIComponent(property);
      var encodedValue = encodeURIComponent(details[property]);
      formBody.push(encodedKey + "=" + encodedValue);
    }
    formBody = formBody.join("&");
    
    function getFromServer(){
      console.log("penis");
      fetch('http://85.209.51.38/dummyApi.php', {
      method: 'POST',
      headers: {'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },
      body: formBody
      })
    
    .then((response) => response.json())
    .then((json) => {
      document.getElementById("output").innerHTML = json.description
      document.getElementById("name").innerHTML = json.name
      document.getElementById("lat").innerHTML = json.lat
      document.getElementById("long").innerHTML = json.long
      document.getElementById("imageLink").innerHTML = json.imageLink
    } );
    }
        
    function zeileEinfuegen () {
     const tabelle = document.getElementById('tabelle');	  
     getFromServer();
     const reihe = tabelle.insertRow(0);
     for (var i = 0; i < 7; i++) {
        let inhalt = 'Zelle ' + (i+1),
        zelle = reihe.insertCell();
        zelle.innerHTML = inhalt;	
     }
    }

    start();
    zeileEinfuegen();
    </script>
</body>
</html> 